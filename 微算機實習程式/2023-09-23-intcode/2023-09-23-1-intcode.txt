	ORG 0000h
	MOV P1, #0FFh		
	MOV P2, #0FFh
	MOV R2, #00h

REPEAT :
WAIT:
	JB P1.0, WAIT		
RELEASE:
	JNB P1.0, RELEASE

	INC R2			
	MOV A, R2		
	CPL A			
	MOV P2 , A

	LCALL DELAY		
	LJMP REPEAT
	
DELAY:
	MOV R0 , #0FFh
LOOP1:
	MOV R1 , #0FFh
LOOP2:

	DJNZ R1,LOOP2
	DJNZ R0,LOOP1
	RET
	END